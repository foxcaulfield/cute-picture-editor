/*! For license information please see main.76068f71.chunk.js.LICENSE.txt */
(this["webpackJsonpcute-picture-editor"]=this["webpackJsonpcute-picture-editor"]||[]).push([[0],{43:function(e,t,a){},44:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(12),r=a.n(i),l=(a(43),a(17)),s=a(8),o=(a(44),a(2));var u=function(e){return Object(o.jsx)("div",{className:"sliderContainer",children:Object(o.jsx)("input",{type:"range",className:"slider magic",min:e.min,max:e.max,value:e.value,onChange:e.handleChange})})};var j=function(e){return Object(o.jsx)("button",{className:"sidebarItem ".concat(e.active?"active":""),onClick:e.handleClick,children:e.name})},d=a(66),m=a(67),b=a(31),g=a.n(b),h=a(32),O=a.n(h),f=a(34),v=a.n(f),p=a(33),x=a.n(p),y=[{name:"Brightness",property:"brightness",value:100,range:{min:0,max:200},unit:"%"},{name:"Contrast",property:"contrast",value:100,range:{min:0,max:200},unit:"%"},{name:"Saturation",property:"saturate",value:100,range:{min:0,max:200},unit:"%"},{name:"Grayscale",property:"grayscale",value:0,range:{min:0,max:100},unit:"%"},{name:"Sepia",property:"sepia",value:0,range:{min:0,max:100},unit:"%"},{name:"Hue rotate",property:"hue-rotate",value:0,range:{min:0,max:360},unit:"deg"},{name:"Blur",property:"blur",value:0,range:{min:0,max:20},unit:"px"}];var C=function(){var e=Object(n.useRef)(null),t=Object(n.useState)({imgDataReal:void 0}),a=Object(s.a)(t,2),c=a[0],i=a[1],r=Object(n.useState)({imgData:void 0}),b=Object(s.a)(r,2),h=b[0],f=b[1],p=Object(n.useState)(0),C=Object(s.a)(p,2),w=C[0],S=C[1],D=Object(n.useState)(y),k=Object(s.a)(D,2),N=k[0],R=k[1],I=N[w];function B(){R(y)}function z(){return{filter:N.map((function(e){return"".concat(e.property,"(").concat(e.value).concat(e.unit,")")})).join(" ")}}function F(t,a){var n=e.current,c=n.getContext("2d");a||(J(n),K(c)),a&&(n=A,c=q);var r=new Image;r.onload=function(){c.clearRect(0,0,n.width,n.height),c.save(),function(e,t){e.width=t.width,e.height=t.height}(n,r),c.filter=z().filter,c.drawImage(r,0,0,n.width,n.height),ee(te(re)),i({imgDataReal:n.toDataURL("image/jpeg")}),a&&L.current.click(),c.restore(),n.toDataURL("image/jpeg")},r.src=t}var L=Object(n.useRef)(null),U=Object(n.useState)(!1),E=Object(s.a)(U,2),H=E[0],P=E[1],T=Object(n.useState)(),W=Object(s.a)(T,2),A=W[0],J=W[1],G=Object(n.useState)(),M=Object(s.a)(G,2),q=M[0],K=M[1];Object(n.useEffect)((function(){!0===H&&P(!1)}),[c.imgDataReal]);var Q=Object(n.useState)(1),V=Object(s.a)(Q,2),X=V[0],Y=V[1],Z=Object(n.useState)(),$=Object(s.a)(Z,2),_=$[0],ee=$[1];function te(e){return e.current.scrollWidth>e.current.clientWidth}var ae=Object(n.useState)(),ne=Object(s.a)(ae,2),ce=ne[0],ie=ne[1],re=Object(n.useRef)(null);return Object(n.useEffect)((function(){var e;ee(te(re)),ie((e=re).current.scrollHeight>e.current.clientHeight)}),[X,h]),Object(o.jsxs)("div",{className:"container",children:[Object(o.jsxs)("div",{className:"headerContainer",children:[Object(o.jsx)(d.a,{variant:"contained",size:"large",className:"gradientButton",startIcon:Object(o.jsx)(g.a,{}),onClick:function(){var e;P(!0),(e=!0)?F(h.imgData,e):F(c.imgDataReal,!1)},children:"Save"}),Object(o.jsx)("div",{className:"headerName",children:"Cute picture editor"}),Object(o.jsx)("input",{type:"file",id:"fileBrowser",onChange:function(e){var t=e.target.files[0],a=new FileReader;a.onloadend=function(){B(),f({imgData:a.result}),F(a.result)},t&&a.readAsDataURL(t)},hidden:!0,onClick:function(e){return e.currentTarget.value=""}}),Object(o.jsx)("label",{htmlFor:"fileBrowser",style:{display:"block",cursor:"pointer"},children:Object(o.jsx)(d.a,{variant:"contained",style:{pointerEvents:"none"},size:"large",className:"gradientButtonUpload",startIcon:Object(o.jsx)(O.a,{}),children:"Upload"})})]}),Object(o.jsx)("div",{className:"imageAndScalingContainer",children:Object(o.jsx)("div",{ref:re,className:"view",style:{justifyContent:"".concat(!1===_&&!1===ce||!1===_&&!0===ce?"center":"flex-start")},children:Object(o.jsx)("img",{style:Object(l.a)(Object(l.a)({},z()),{},{transform:"scale(".concat(X,")"),transformOrigin:"".concat(!1===_&&!1===ce?"center center":!1===_&&!0===ce?"top center":!0===_&&!1===ce?"left":"top left")}),hidden:!1,id:"thePicture",src:h.imgData})})}),Object(o.jsxs)("div",{className:"controller",children:[Object(o.jsx)("a",{hidden:!0,ref:L,id:"download",download:"myImage.jpg",href:c.imgDataReal,children:"Download to myImage.jpg"}),Object(o.jsx)("div",{className:"mainImage"}),Object(o.jsxs)("div",{className:"buttonsContainer",children:[Object(o.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(o.jsx)(m.a,{size:"small",children:Object(o.jsx)(x.a,{onClick:function(){return Y(.9*X)}})}),Object(o.jsx)("input",{type:"range",min:"0.1",max:"2",value:X,step:"0.01",onChange:function(e){console.log(e.target.value),Y(e.target.value)}}),Object(o.jsx)(m.a,{size:"small",children:Object(o.jsx)(v.a,{onClick:function(){Y(1.1*X)}})})]}),Object(o.jsx)("div",{})]}),Object(o.jsx)("div",{className:"sidebar",children:N.map((function(e,t){return Object(o.jsx)(j,{name:e.name,active:t===w,handleClick:function(){return S(t)}},t)}))}),Object(o.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[Object(o.jsx)("div",{style:{width:"100%"},children:Object(o.jsx)(u,{min:I.range.min,max:I.range.max,value:I.value,handleChange:function(e){console.log(e),R((function(t){return t.map((function(t,a){return a!==w?t:Object(l.a)(Object(l.a)({},t),{},{value:e.target.value})}))}))}})}),Object(o.jsxs)("div",{style:{display:"flex",flexDirection:"column",flexWrap:"nowrap",background:"white",justifyContent:"space-evenly"},children:[Object(o.jsx)(d.a,{variant:"contained",color:"secondary",size:"small",onClick:function(){return Y(1)},style:{letterSpacing:"0.1em",color:"black",whiteSpace:"nowrap"},children:"reset scale"}),Object(o.jsx)(d.a,{variant:"contained",color:"primary",size:"small",onClick:function(){return B()},style:{letterSpacing:"0.1em",color:"black",whiteSpace:"nowrap"},children:"reset options"})]})]}),Object(o.jsx)("div",{})]}),Object(o.jsx)("canvas",{hidden:!0,className:"canvasReal",ref:e})]})},w=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,68)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),i(e),r(e)}))};r.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(C,{})}),document.getElementById("root")),w()}},[[52,1,2]]]);
//# sourceMappingURL=main.76068f71.chunk.js.map